<!DOCTYPE HTML>
<html>
  <head>
    <link rel="Stylesheet" type="text/css" href="/static/css/style.css">
    <link rel="Stylesheet" type="text/css" href="/static/css/tango.css">
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <link rel="alternate" type="application/atom+xml" href="atom.xml" title="Atom feed">
    <title>Bower：客户端库管理工具 - Wiki · Tsong khapa</title>
    <meta name="keywords" content="simiki, wiki, python, simple"/>
    <meta name="description" content="Tanky Woo's personal wiki, powered by vim and markdown. Focus on Python, C/C++, Linux, Ops-Dev, Gentoo, and so on."/>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  </head>

  <body>
    <div id="container">
      
<div id="header">
  <div class="post-nav"><a href="/">Home</a>&nbsp;&#187;&nbsp;<a href="/#Node">Node</a>&nbsp;&#187;&nbsp;Bower：客户端库管理工具
    <span class="updated">Page Updated&nbsp;
      2015-02-25 22:27
    </span></div>
</div>
<div class="clearfix"></div>

<div class="page_title">Bower：客户端库管理工具</div>

  <h2 id="_1">概述</h2>
<p>随着网页功能变得越来越复杂，同一张网页加载多个JavaScript函数库早已是家常便饭。开发者越来越需要一个工具，对浏览器端的各种库进行管理，比如搜索、自动安装\卸载、检查更新、确保依赖关系等等。Bower就是为了解决这个问题而诞生的针对浏览器端的库管理工具。</p>
<p>Bower基于node.js，所以安装之前，必须先确保已安装node.js。</p>
<div class="hlcode"><pre><span class="n">sudo</span> <span class="n">npm</span> <span class="n">install</span> <span class="n">bower</span> <span class="o">-</span><span class="n">global</span>
</pre></div>


<p>运行上面的命令以后，Bower就已经安装在你的系统中了。运行帮助命令，查看Bower是否安装成功。</p>
<div class="hlcode"><pre><span class="n">bower</span> <span class="n">help</span>
</pre></div>


<p>下面的命令可以更新或卸载Bower。</p>
<div class="hlcode"><pre><span class="n">sudo</span> <span class="n">npm</span> <span class="n">update</span> <span class="o">-</span><span class="n">g</span> <span class="n">bower</span>

<span class="n">sudo</span> <span class="n">npm</span> <span class="n">uninstall</span> <span class="o">-</span><span class="n">global</span> <span class="n">bower</span>
</pre></div>


<h2 id="_2">常用操作</h2>
<h3 id="_3">库的安装</h3>
<p>bower install命令用于安装某个库，需要指明库的名字。</p>
<div class="hlcode"><pre><span class="n">bower</span> <span class="n">install</span> <span class="n">backbone</span>
</pre></div>


<p>Bower会使用库的名字，去在线索引中搜索该库的网址。某些情况下，如果一个库很新（或者你不想使用默认网址），可能需要我们手动指定该库的网址。</p>
<div class="hlcode"><pre><span class="n">bower</span> <span class="n">install</span> <span class="n">git</span><span class="o">:</span><span class="c1">//github.com/documentcloud/backbone.git</span>

<span class="n">bower</span> <span class="n">install</span> <span class="n">http</span><span class="o">:</span><span class="c1">//cdnjs.cloudflare.com/ajax/libs/backbone.js/1.0.0/backbone-min.js</span>

<span class="n">bower</span> <span class="n">install</span> <span class="p">.</span><span class="o">/</span><span class="n">some</span><span class="o">/</span><span class="n">path</span><span class="o">/</span><span class="n">relative</span><span class="o">/</span><span class="n">to</span><span class="o">/</span><span class="n">this</span><span class="o">/</span><span class="n">directory</span><span class="o">/</span><span class="n">backbone</span><span class="p">.</span><span class="n">js</span>
</pre></div>


<p>上面的命令说明，指定的网址可以是github地址、http网址、本地文件。</p>
<p>默认情况下，会安装该库的最新版本，但是也可以手动指定版本号。</p>
<div class="hlcode"><pre><span class="n">bower</span> <span class="n">install</span> <span class="n">jquery</span><span class="o">-</span><span class="n">ui</span><span class="err">#</span><span class="mf">1.10.1</span>
</pre></div>


<p>上面的命令指定安装jquery-ui的1.10.1版。</p>
<p>如果某个库依赖另一个库，安装时默认将所依赖的库一起安装。比如，jquery-ui依赖jquery，安装时会连jquery一起安装。</p>
<p>安装后的库默认存放在项目的bower_components子目录，如果要指定其他位置，可在.bowerrc文件的directory属性设置。</p>
<h3 id="_4">库的搜索和查看</h3>
<p>bower search命令用于使用关键字，从在线索引中搜索相关库。</p>
<div class="hlcode"><pre><span class="n">bower</span> <span class="n">search</span> <span class="n">jquery</span>
</pre></div>


<p>上面命令会得到下面这样的结果。</p>
<div class="hlcode"><pre><span class="n">Search</span> <span class="n">results</span><span class="o">:</span>

    <span class="n">jquery</span> <span class="n">git</span><span class="o">:</span><span class="c1">//github.com/components/jquery.git</span>
    <span class="n">jquery</span><span class="o">-</span><span class="n">ui</span> <span class="n">git</span><span class="o">:</span><span class="c1">//github.com/components/jqueryui</span>
    <span class="n">jquery</span><span class="p">.</span><span class="n">cookie</span> <span class="n">git</span><span class="o">:</span><span class="c1">//github.com/carhartl/jquery-cookie.git</span>
    <span class="n">jquery</span><span class="o">-</span><span class="n">placeholder</span> <span class="n">git</span><span class="o">:</span><span class="c1">//github.com/mathiasbynens/jquery-placeholder.git</span>
    <span class="n">jquery</span><span class="o">-</span><span class="n">file</span><span class="o">-</span><span class="n">upload</span> <span class="n">git</span><span class="o">:</span><span class="c1">//github.com/blueimp/jQuery-File-Upload.git</span>
    <span class="n">jasmine</span><span class="o">-</span><span class="n">jquery</span> <span class="n">git</span><span class="o">:</span><span class="c1">//github.com/velesin/jasmine-jquery</span>
    <span class="n">jquery</span><span class="p">.</span><span class="n">ui</span> <span class="n">git</span><span class="o">:</span><span class="c1">//github.com/jquery/jquery-ui.git</span>
    <span class="p">...</span>
</pre></div>


<p>bower info命令用于查看某个库的详细信息。</p>
<div class="hlcode"><pre><span class="n">bower</span> <span class="n">info</span> <span class="n">jquery</span><span class="o">-</span><span class="n">ui</span>
</pre></div>


<p>查看结果会列出该库的依赖关系（dependencies），以及可以得到的版本（Available versions）。</p>
<h3 id="_5">库的更新和卸载</h3>
<p>bower update用于更新一个库，将其更新为最新版本。</p>
<div class="hlcode"><pre><span class="n">bower</span> <span class="n">update</span> <span class="n">jquery</span><span class="o">-</span><span class="n">ui</span>
</pre></div>


<p>如果不给出库名，则更新所有库。</p>
<p>bower uninstall命令用于卸载指定的库。</p>
<div class="hlcode"><pre><span class="n">bower</span> <span class="n">uninstall</span> <span class="n">jquery</span><span class="o">-</span><span class="n">ui</span>
</pre></div>


<p>注意，默认情况下会连所依赖的库一起卸载。比如，jquery-ui依赖jquery，卸载时会连jquery一起卸载，除非还有别的库依赖jquery。</p>
<h3 id="_6">列出所有库</h3>
<p>bower list或bower ls命令，用于列出项目所使用的所有库。</p>
<div class="hlcode"><pre><span class="n">Bower</span> <span class="n">list</span>
<span class="n">Bower</span> <span class="n">ls</span>
</pre></div>


<h2 id="bowerrc">配置文件.bowerrc</h2>
<p>项目根目录下（也可以放在用户的主目录下）的.bowerrc文件是Bower的配置文件，它大概像下面这样。</p>
<div class="hlcode"><pre><span class="p">{</span>
  <span class="s">&quot;directory&quot;</span> <span class="o">:</span> <span class="s">&quot;components&quot;</span><span class="p">,</span>
  <span class="s">&quot;json&quot;</span>      <span class="o">:</span> <span class="s">&quot;bower.json&quot;</span><span class="p">,</span>
  <span class="s">&quot;endpoint&quot;</span>  <span class="o">:</span> <span class="s">&quot;https://Bower.herokuapp.com&quot;</span><span class="p">,</span>
  <span class="s">&quot;searchpath&quot;</span>  <span class="o">:</span> <span class="s">&quot;&quot;</span><span class="p">,</span>
  <span class="s">&quot;shorthand_resolver&quot;</span> <span class="o">:</span> <span class="s">&quot;&quot;</span>
<span class="p">}</span>
</pre></div>


<p>其中的属性含义如下。</p>
<ul>
<li>directory：存放库文件的子目录名。</li>
<li>json：描述各个库的json文件名。</li>
<li>endpoint：在线索引的网址，用来搜索各种库。</li>
<li>searchpath：一个数组，储存备选的在线索引网址。如果某个库在endpoint中找不到，则继续搜索该属性指定的网址，通常用于放置某些不公开的库。</li>
<li>shorthand_resolver：定义各个库名称简写形式。</li>
</ul>
<h2 id="bowerjson">库信息文件bower.json</h2>
<p>bower.json文件存放在库的根目录下，用于保存项目的库信息，供项目安装时使用，以及Bower的在线索引读取。</p>
<p>下面是一个典型的bower.json文件。</p>
<div class="hlcode"><pre><span class="p">{</span>
  <span class="s">&quot;name&quot;</span><span class="o">:</span> <span class="s">&quot;app-name&quot;</span><span class="p">,</span>
  <span class="s">&quot;version&quot;</span><span class="o">:</span> <span class="s">&quot;0.1.0&quot;</span><span class="p">,</span> 
  <span class="s">&quot;main&quot;</span><span class="o">:</span> <span class="p">[</span><span class="s">&quot;path/to/app.html&quot;</span><span class="p">,</span> <span class="s">&quot;path/to/app.css&quot;</span><span class="p">,</span> <span class="s">&quot;path/to/app.js&quot;</span><span class="p">],</span>
  <span class="s">&quot;ignore&quot;</span><span class="o">:</span> <span class="p">[</span><span class="s">&quot;.jshintrc&quot;</span><span class="p">,</span><span class="s">&quot;**/*.txt&quot;</span><span class="p">],</span>
  <span class="s">&quot;dependencies&quot;</span><span class="o">:</span> <span class="p">{</span>
    <span class="s">&quot;sass-bootstrap&quot;</span><span class="o">:</span> <span class="s">&quot;~3.0.0&quot;</span><span class="p">,</span>
    <span class="s">&quot;modernizr&quot;</span><span class="o">:</span> <span class="s">&quot;~2.6.2&quot;</span><span class="p">,</span>
    <span class="s">&quot;jquery&quot;</span><span class="o">:</span> <span class="s">&quot;latests&quot;</span>
  <span class="p">},</span>
  <span class="s">&quot;devDependencies&quot;</span><span class="o">:</span> <span class="p">{</span><span class="s">&quot;qunit&quot;</span><span class="o">:</span> <span class="s">&quot;&gt;1.11.0&quot;</span><span class="p">}</span>
<span class="p">}</span>
</pre></div>


<p>在项目的根目录下，运行bower init命令，通过回答几个问题，就会自动生成bower.json文件。</p>
<div class="hlcode"><pre><span class="n">bower</span> <span class="n">init</span>
</pre></div>


<p>有了bower.json文件以后，就可以用bower install命令，一下子安装所有库。</p>
<div class="hlcode"><pre><span class="n">bower</span> <span class="n">install</span>
</pre></div>


<p>根据bower.json文件，还可以向Bower的在线索引提交你的库。</p>
<div class="hlcode"><pre><span class="n">bower</span> <span class="k">register</span> <span class="o">&lt;</span><span class="n">my</span><span class="o">-</span><span class="n">package</span><span class="o">-</span><span class="n">name</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">git</span><span class="o">-</span><span class="n">endpoint</span><span class="o">&gt;</span>

<span class="c1">// 比如</span>

<span class="n">bower</span> <span class="k">register</span> <span class="n">jquery</span> <span class="n">git</span><span class="o">:</span><span class="c1">//github.com/jquery/jquery</span>
</pre></div>


<p>注意，如果你的库与现有的库重名，就会提交失败。</p>
<h2 id="_7">相关链接</h2>
<ul>
<li>Cody Lindley, <a href="http://tech.pro/tutorial/1190/package-managers-an-introductory-guide-for-the-uninitiated-front-end-developer">Package Managers: An Introductory Guide For The Uninitiated Front-End Developer</a></li>
<li>Tyson Cadenhead, <a href="http://tysoncadenhead.com/blog/client-side-dependency-management-with-bower">Client-Side Dependency Management with Bower</a></li>
<li>Matt West, <a href="http://blog.teamtreehouse.com/getting-started-bower">Getting Started with Bower</a></li>
</ul>
<h2 id="_8">功能链接</h2>
<ul>
<li><a href="https://github.com/ruanyf/jstutorial/issues">论坛</a></li>
<li><a href="https://raw.github.com/ruanyf/jstutorial/gh-pages/tool/bower.md">Markdown源码</a></li>
<li><a href="https://github.com/ruanyf/jstutorial/commits/gh-pages/tool/bower.md">修订历史</a></li>
</ul>
    </div>
    <div id="footer">
      <span>
        <p>Copyright © 2020 Tsong khapa.
        Powered by <a href="http://simiki.org/" target="_blank">Simiki</a>.</p>
        <p>Site Generated 2020-10-02 22:54:23</p>
      </span>
    </div>

    
    
  </body>
</html>