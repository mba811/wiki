<!DOCTYPE HTML>
<html>
  <head>
    <link rel="Stylesheet" type="text/css" href="/static/css/style.css">
    <link rel="Stylesheet" type="text/css" href="/static/css/tango.css">
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <link rel="alternate" type="application/atom+xml" href="atom.xml" title="Atom feed">
    <title>Gitbook简明教程 - Wiki · Tsong khapa</title>
    <meta name="keywords" content="simiki, wiki, python, simple"/>
    <meta name="description" content="Tanky Woo's personal wiki, powered by vim and markdown. Focus on Python, C/C++, Linux, Ops-Dev, Gentoo, and so on."/>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  </head>

  <body>
    <div id="container">
      
<div id="header">
  <div class="post-nav"><a href="/">Home</a>&nbsp;&#187;&nbsp;<a href="/#Node">Node</a>&nbsp;&#187;&nbsp;Gitbook简明教程
    <span class="updated">Page Updated&nbsp;
      2015-05-17 20:07
    </span></div>
</div>
<div class="clearfix"></div>

<div class="page_title">Gitbook简明教程</div>

  <p>Gitbook是一个命令行工具(node.js库)， 使用Github/Git创建漂亮的图书。 你可以看一些用它编写的图书的例子： <a href="https://www.gitbook.io/book/GitBookIO/javascript">学习Javascript</a>. 你也可以很容易的通过<a href="https://www.gitbook.io/">gitbook.io</a>网站发布在线图书。 <a href="https://github.com/GitbookIO/editor">editor</a> 是一个图形化的编辑工具， 提供Windows, Mac 和Linux的版本. 关注Twitter帐号 <a href="https://twitter.com/GitBookIO">@GitBookIO</a>. 这篇文章只是一个起步教程， 完整的文档可以在<a href="http://help.gitbook.io/">help.gitbook.io</a>网站找到.  </p>
<p><a href="https://raw.github.com/GitbookIO/gitbook/master/preview.png"><img alt="Image" src="https://raw.github.com/GitbookIO/gitbook/master/preview.png" /></a>Image</p>
<h2 id="_1">怎么用:</h2>
<p>GitBook 可以通过 <strong>NPM</strong> 安装:</p>
<div class="hlcode"><pre><span class="err">$</span> <span class="n">npm</span> <span class="n">install</span> <span class="n">gitbook</span> <span class="o">-</span><span class="n">g</span>
</pre></div>


<p>你可以将一个<code>repository</code>作为一本书:</p>
<div class="hlcode"><pre><span class="err">$</span> <span class="n">gitbook</span> <span class="n">serve</span> <span class="p">.</span><span class="o">/</span><span class="n">repository</span>
</pre></div>


<p>或者简单的生成静态网站:</p>
<div class="hlcode"><pre><span class="err">$</span> <span class="n">gitbook</span> <span class="n">build</span> <span class="p">.</span><span class="o">/</span><span class="n">repository</span> <span class="o">--</span><span class="n">output</span><span class="o">=</span><span class="p">.</span><span class="o">/</span><span class="n">outputFolder</span>
</pre></div>


<p>命令 <code>build</code> 和 <code>serve</code> 的参数为:</p>
<div class="hlcode"><pre><span class="na">-o</span><span class="p">,</span> <span class="o">--</span><span class="nb">output</span> <span class="o">&lt;</span><span class="nx">directory</span><span class="o">&gt;</span>  <span class="nx">输出文件件</span><span class="p">,</span> <span class="nx">默认为</span> <span class="nx">.</span><span class="p">/</span><span class="nx">_book</span>

<span class="na">-f</span><span class="p">,</span> <span class="o">--</span><span class="nb">format</span> <span class="o">&lt;</span><span class="nb">name</span><span class="o">&gt;</span>       <span class="nx">产生的书籍的类型</span><span class="p">,</span> <span class="nx">默认为静态站点</span><span class="p">,</span> <span class="nx">可用的格式为</span><span class="p">:</span> <span class="nx">site</span><span class="p">,</span> <span class="nx">page</span><span class="p">,</span> <span class="nx">ebook</span><span class="p">,</span> <span class="nx">json</span>

<span class="o">--</span><span class="nx">config</span> <span class="o">&lt;</span><span class="nx">config</span> <span class="nb">file</span><span class="o">&gt;</span>    <span class="nx">配置文件</span><span class="p">,</span> <span class="nx">默认为</span> <span class="nx">book.js</span> <span class="nx">或</span> <span class="nx">book.json</span>
</pre></div>


<p>GitBook 会从仓库中的<code>book.json</code>文件加载默认的配置，前提是此文件存在.</p>
<p>下面是此文件的一些配置项:</p>
<div class="hlcode"><pre><span class="p">{</span>

    <span class="c1">// 输出文件夹</span>

    <span class="c1">// 注意: 它会覆盖命令行传入的参数</span>

    <span class="c1">// 不建议在此文件中配置</span>

    <span class="s">&quot;output&quot;</span><span class="o">:</span> <span class="n">null</span><span class="p">,</span>

    <span class="c1">// 产生的书籍的类型</span>

    <span class="c1">// 注意: 它会覆盖命令行传入的参数</span>

    <span class="c1">// 不建议在此文件中配置</span>

    <span class="s">&quot;generator&quot;</span><span class="o">:</span> <span class="s">&quot;site&quot;</span><span class="p">,</span>

    <span class="c1">// 图书标题和描述 (默认从README抽取)</span>

    <span class="s">&quot;title&quot;</span><span class="o">:</span> <span class="n">null</span><span class="p">,</span>

    <span class="s">&quot;description&quot;</span><span class="o">:</span> <span class="n">null</span><span class="p">,</span>

    <span class="c1">// 对于ebook格式, 扩展名the extension to use for generation (default is detected from output extension)</span>

    <span class="c1">// &quot;epub&quot;, &quot;pdf&quot;, &quot;mobi&quot;</span>

    <span class="c1">// 注意: 它会覆盖命令行传入的参数</span>

    <span class="c1">// 不建议在此文件中配置</span>

    <span class="s">&quot;extension&quot;</span><span class="o">:</span> <span class="n">null</span><span class="p">,</span>

    <span class="c1">// GitHub 信息(defaults are extracted using git)</span>

    <span class="s">&quot;github&quot;</span><span class="o">:</span> <span class="n">null</span><span class="p">,</span>

    <span class="s">&quot;githubHost&quot;</span><span class="o">:</span> <span class="s">&quot;https://github.com/&quot;</span><span class="p">,</span>

    <span class="c1">// 插件列表, can contain &quot;-name&quot; for removing default plugins</span>

    <span class="s">&quot;plugins&quot;</span><span class="o">:</span> <span class="p">[],</span>

    <span class="c1">// 插件通用配置</span>

    <span class="s">&quot;pluginsConfig&quot;</span><span class="o">:</span> <span class="p">{</span>

        <span class="s">&quot;fontSettings&quot;</span><span class="o">:</span> <span class="p">{</span>

            <span class="s">&quot;theme&quot;</span><span class="o">:</span> <span class="s">&quot;sepia&quot;</span><span class="p">,</span> <span class="s">&quot;night&quot;</span> <span class="n">or</span> <span class="s">&quot;white&quot;</span><span class="p">,</span>

            <span class="s">&quot;family&quot;</span><span class="o">:</span> <span class="s">&quot;serif&quot;</span> <span class="n">or</span> <span class="s">&quot;sans&quot;</span><span class="p">,</span>

            <span class="s">&quot;size&quot;</span><span class="o">:</span> <span class="mi">1</span> <span class="n">to</span> <span class="mi">4</span>

        <span class="p">}</span>

    <span class="p">},</span>

    <span class="c1">// 模版中的链接 (null: default, false: remove, string: new value)</span>

    <span class="s">&quot;links&quot;</span><span class="o">:</span> <span class="p">{</span>

        <span class="c1">// Custom links at top of sidebar</span>

        <span class="s">&quot;sidebar&quot;</span><span class="o">:</span> <span class="p">{</span>

            <span class="s">&quot;Custom link name&quot;</span><span class="o">:</span> <span class="s">&quot;https://customlink.com&quot;</span>

        <span class="p">},</span>

        <span class="c1">// Sharing links</span>

        <span class="s">&quot;sharing&quot;</span><span class="o">:</span> <span class="p">{</span>

            <span class="s">&quot;google&quot;</span><span class="o">:</span> <span class="n">null</span><span class="p">,</span>

            <span class="s">&quot;facebook&quot;</span><span class="o">:</span> <span class="n">null</span><span class="p">,</span>

            <span class="s">&quot;twitter&quot;</span><span class="o">:</span> <span class="n">null</span><span class="p">,</span>

            <span class="s">&quot;weibo&quot;</span><span class="o">:</span> <span class="n">null</span><span class="p">,</span>

            <span class="s">&quot;all&quot;</span><span class="o">:</span> <span class="n">null</span>

        <span class="p">}</span>

    <span class="p">},</span>

    <span class="c1">// PDF 参数</span>

    <span class="s">&quot;pdf&quot;</span><span class="o">:</span> <span class="p">{</span>

        <span class="c1">// Add toc at the end of the file</span>

        <span class="s">&quot;toc&quot;</span><span class="o">:</span> <span class="nb">true</span><span class="p">,</span>

        <span class="c1">// Add page numbers to the bottom of every page</span>

        <span class="s">&quot;pageNumbers&quot;</span><span class="o">:</span> <span class="nb">false</span><span class="p">,</span>

        <span class="c1">// Font size for the fiel content</span>

        <span class="s">&quot;fontSize&quot;</span><span class="o">:</span> <span class="mi">12</span><span class="p">,</span>

        <span class="c1">// Paper size for the pdf</span>

        <span class="c1">// Choices are [u’a0’, u’a1’, u’a2’, u’a3’, u’a4’, u’a5’, u’a6’, u’b0’, u’b1’, u’b2’, u’b3’, u’b4’, u’b5’, u’b6’, u’legal’, u’letter’]</span>

        <span class="s">&quot;paperSize&quot;</span><span class="o">:</span> <span class="s">&quot;a4&quot;</span><span class="p">,</span>

        <span class="c1">// Margin (in pts)</span>

        <span class="c1">// Note: 72 pts equals 1 inch</span>

        <span class="s">&quot;margin&quot;</span><span class="o">:</span> <span class="p">{</span>

            <span class="s">&quot;right&quot;</span><span class="o">:</span> <span class="mi">62</span><span class="p">,</span>

            <span class="s">&quot;left&quot;</span><span class="o">:</span> <span class="mi">62</span><span class="p">,</span>

            <span class="s">&quot;top&quot;</span><span class="o">:</span> <span class="mi">36</span><span class="p">,</span>

            <span class="s">&quot;bottom&quot;</span><span class="o">:</span> <span class="mi">36</span>

        <span class="p">}</span>

    <span class="p">}</span>

<span class="p">}</span>
</pre></div>


<h2 id="_2">输出格式</h2>
<p>GitBook可以产生下列类型的图书:</p>
<ul>
<li><strong>静态站点</strong>: 默认格式. 创建一个完全交互式的静态网站，可以发布到GitHub Pages等网站.</li>
<li><strong>eBook</strong>: 图书完成后可以使用它创建电子书. 创建命令: <code>gitbook ebook ./myrepo</code>. 你需要安装 <a href="http://manual.calibre-ebook.com/cli/ebook-convert.html">ebook-convert</a>. 输出格式可以是 <strong>PDF</strong>, <strong>ePub</strong> 或 <strong>MOBI</strong>.</li>
<li><strong>单页网页</strong>: 可以生成一个单页的HTML网页。这个格式可以用来转换PDF或者eBook. 创建命令: <code>gitbook build ./myrepo -f page</code>.</li>
<li><strong>JSON</strong>: 此格式用来调试或者抽取图书的元数据. 创建命令: <code>gitbook build ./myrepo -f json</code>.</li>
</ul>
<h2 id="_3">图书格式</h2>
<p>一本图书就是一个Git repository， 至少包含两个文件: <code>README.md</code> 和 <code>SUMMARY.md</code>.</p>
<h4 id="readmemd">README.md</h4>
<p>典型的, 它应该是你的图书的介绍. 它可以自动的被加到最终的summary中.</p>
<h4 id="summarymd">SUMMARY.md</h4>
<p><code>SUMMARY.md</code> 定义了你的图书的结构. 它应该包含章节的列表,以及它们的链接.</p>
<p>例如:</p>
<div class="hlcode"><pre><span class="cp"># Summary</span>

<span class="n">This</span> <span class="n">is</span> <span class="n">the</span> <span class="n">summary</span> <span class="n">of</span> <span class="n">my</span> <span class="n">book</span><span class="p">.</span>

<span class="o">*</span> <span class="p">[</span><span class="n">section</span> <span class="mi">1</span><span class="p">](</span><span class="n">section1</span><span class="o">/</span><span class="n">README</span><span class="p">.</span><span class="n">md</span><span class="p">)</span>

    <span class="o">*</span> <span class="p">[</span><span class="n">example</span> <span class="mi">1</span><span class="p">](</span><span class="n">section1</span><span class="o">/</span><span class="n">example1</span><span class="p">.</span><span class="n">md</span><span class="p">)</span>

    <span class="o">*</span> <span class="p">[</span><span class="n">example</span> <span class="mi">2</span><span class="p">](</span><span class="n">section1</span><span class="o">/</span><span class="n">example2</span><span class="p">.</span><span class="n">md</span><span class="p">)</span>

<span class="o">*</span> <span class="p">[</span><span class="n">section</span> <span class="mi">2</span><span class="p">](</span><span class="n">section2</span><span class="o">/</span><span class="n">README</span><span class="p">.</span><span class="n">md</span><span class="p">)</span>

    <span class="o">*</span> <span class="p">[</span><span class="n">example</span> <span class="mi">1</span><span class="p">](</span><span class="n">section2</span><span class="o">/</span><span class="n">example1</span><span class="p">.</span><span class="n">md</span><span class="p">)</span>
</pre></div>


<p>不被<code>SUMMARY.md</code>包含的文件不会被<code>gitbook</code>处理.</p>
<h4 id="_4">多语言</h4>
<p>GitBook 支持使用多种语言编写图书. 每种语言应该是一个子目录， 遵循正常gitbook格式, <code>LANGS.md</code>文件应该被放到repository的根文件夹， 格式如下:</p>
<div class="hlcode"><pre><span class="o">*</span> <span class="p">[</span><span class="n">English</span><span class="p">](</span><span class="n">en</span><span class="o">/</span><span class="p">)</span>

<span class="o">*</span> <span class="p">[</span><span class="n">French</span><span class="p">](</span><span class="n">fr</span><span class="o">/</span><span class="p">)</span>

<span class="o">*</span> <span class="p">[</span><span class="n">Espan</span><span class="err">̃</span><span class="n">ol</span><span class="p">](</span><span class="n">es</span><span class="o">/</span><span class="p">)</span>
</pre></div>


<p>看个例子 <a href="https://github.com/GitbookIO/git">学习 Git</a>.</p>
<h4 id="_5">词汇表</h4>
<p>允许你列出条目以及它们的定义. 基于这些条目 <code>gitbook</code>会自动创建一个索引，并在页面中加亮这些条目.</p>
<p><code>GLOSSARY.md</code> 格式很简单 :</p>
<div class="hlcode"><pre><span class="cp"># term</span>

<span class="n">Definition</span> <span class="k">for</span> <span class="n">this</span> <span class="n">term</span>

<span class="cp"># Another term</span>

<span class="n">With</span> <span class="n">it</span><span class="err">&#39;</span><span class="n">s</span> <span class="n">definition</span><span class="p">,</span> <span class="n">this</span> <span class="n">can</span> <span class="n">contain</span> <span class="n">bold</span> <span class="n">text</span> <span class="n">and</span> <span class="n">all</span> <span class="n">other</span> <span class="n">kinds</span> <span class="n">of</span> <span class="kr">inline</span> <span class="n">markup</span> <span class="p">...</span>
</pre></div>


<h4 id="_6">忽略文件和文件夹</h4>
<p>GitBook 读取<code>.gitignore</code>, <code>.bookignore</code> 和 <code>.ignore</code> 得到需要忽略的文件/文件夹的列表. (文件的格式和<code>.gitignore</code>一样).</p>
<p><code>.gitignore</code>最佳实践是忽略build文件，这些文件来自 <a href="https://github.com/github/gitignore/blob/master/Node.gitignore"><strong>node.js</strong></a> (<code>node_modules</code>, ...) 和GitBook的build文件: <code>_book</code>,<code>*.epub</code>, <code>*.mobi</code> and <code>*.pdf</code>.</p>
<h4 id="_7">封面</h4>
<p>封面文件为: <strong>/cover.jpg</strong>.<br />
尺寸为 <strong>1800x2360</strong>. 插件 <a href="https://github.com/GitbookIO/plugin-autocover">autocover</a>可以自动创建一个文件.</p>
<p>封面的小尺寸图形为: <strong>/cover_small.jpg</strong>.</p>
<h4 id="_8">发布图书</h4>
<p>平台 <a href="https://www.gitbook.io/">GitBook.io</a>就像"Heroku for books": 你可以在它上面创建图书 (公开的, 付费的, 或者私有的)， 并且使用 <strong>git push</strong> 就可以更新.</p>
<h4 id="_9">插件</h4>
<p>P插件可以扩展图书的功能. 查看插件介绍 <a href="https://github.com/GitbookIO/plugin">GitbookIO/plugin</a>来了解如何创建一个插件.</p>
<h5 id="_10">官方插件:</h5>
<p>名称描述</p>
<p><a href="https://github.com/GitbookIO/plugin-exercises">exercises</a><br />
Add interactive exercises to your book.</p>
<p><a href="https://github.com/GitbookIO/plugin-quizzes">quizzes</a><br />
Add interactive quizzes to your book.</p>
<p><a href="https://github.com/GitbookIO/plugin-mathjax">mathjax</a><br />
Displays mathematical notation in the book.</p>
<p><a href="https://github.com/GitbookIO/plugin-mixpanel">mixpanel</a><br />
Mixpanel tracking for your book</p>
<h5 id="_11">其它插件:</h5>
<p>名称描述</p>
<p><a href="https://github.com/GitbookIO/plugin-ga">Google Analytics</a><br />
Google Analytics tracking for your book</p>
<p><a href="https://github.com/GitbookIO/plugin-disqus">Disqus</a><br />
Disqus comments integration in your book</p>
<p><a href="https://github.com/GitbookIO/plugin-autocover">Autocover</a><br />
Generate a cover for your book</p>
<p><a href="https://github.com/erixtekila/gitbook-plugin-richquotes">Transform annoted quotes to notes</a><br />
Allow extra markdown markup to render blockquotes as nice notes</p>
<p><a href="https://github.com/erixtekila/gitbook-plugin-toconsole">Send code to console</a><br />
Evaluate javascript block in the browser inspector's console</p>
<p><a href="https://github.com/mrpotes/gitbook-plugin-reveal">Revealable sections</a><br />
Reveal sections of the page using buttons made from the first title in each section</p>
<p><a href="https://github.com/mrpotes/gitbook-plugin-nestedmd">Markdown within HTML</a><br />
Process markdown within HTML blocks - allows custom layout options for individual pages</p>
<p><a href="https://github.com/mrpotes/gitbook-plugin-bootstrapjs">Bootstrap JavaScript plugins</a><br />
Use the <a href="http://getbootstrap.com/javascript">Bootstrap JavaScript plugins</a> in your online GitBook</p>
<p><a href="https://github.com/emmanuel-keller/gitbook-plugin-piwik">Piwik Open Analytics</a><br />
Piwik Open Analytics tracking for your book</p>
<p><a href="https://github.com/rlmv/gitbook-plugin-anchors">Heading Anchors</a><br />
Add linkable Github-style anchors to headings</p>
<p><a href="https://github.com/jcouyang/gitbook-plugin-jsbin">JSBin</a><br />
Embedded jsbin frame into your book</p>
<h4 id="_12">调试</h4>
<p>增加环境变量 <code>DEBUG=true</code> 来得到更好的错误信息(包含错误堆栈). 例如:</p>
<div class="hlcode"><pre><span class="err">$</span> <span class="n">export</span> <span class="n">DEBUG</span><span class="o">=</span><span class="nb">true</span>

<span class="err">$</span> <span class="n">gitbook</span> <span class="n">build</span> <span class="p">.</span><span class="o">/</span>
</pre></div>
    </div>
    <div id="footer">
      <span>
        <p>Copyright © 2020 Tsong khapa.
        Powered by <a href="http://simiki.org/" target="_blank">Simiki</a>.</p>
        <p>Site Generated 2020-10-02 22:54:23</p>
      </span>
    </div>

    
    
  </body>
</html>