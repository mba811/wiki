<!DOCTYPE HTML>
<html>
  <head>
    <link rel="Stylesheet" type="text/css" href="/static/css/style.css">
    <link rel="Stylesheet" type="text/css" href="/static/css/tango.css">
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <link rel="alternate" type="application/atom+xml" href="atom.xml" title="Atom feed">
    <title>VIM 入门指南 - Wiki · Tsong khapa</title>
    <meta name="keywords" content="simiki, wiki, python, simple"/>
    <meta name="description" content="Tanky Woo's personal wiki, powered by vim and markdown. Focus on Python, C/C++, Linux, Ops-Dev, Gentoo, and so on."/>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  </head>

  <body>
    <div id="container">
      
<div id="header">
  <div class="post-nav"><a href="/">Home</a>&nbsp;&#187;&nbsp;<a href="/#Tools">Tools</a>&nbsp;&#187;&nbsp;VIM 入门指南
    <span class="updated">Page Updated&nbsp;
      2015-05-07 15:33
    </span></div>
</div>
<div class="clearfix"></div>

<div class="page_title">VIM 入门指南</div>

  <p>今天稍微整理了下vim配置 <a href="https://github.com/wklken/k-vim">k-vim</a></p>
<p>原文链接 <a href="http://blog.interlinked.org/tutorials/vim_tutorial.html">Vim Introduction and Tutorial</a></p>
<p>搜了下没发现中文版,顺手翻译下, 建议读原版</p>
<hr />
<h1 id="vim">vim简介及入门指南</h1>
<p>我经常试图去学习Emac编辑器/IDE/OS. 我最后一次尝试时，我花了一些时间去适应，直到我想去配置一个自己的.emacs文件</p>
<p>在我用vi打开.emacs文件那一刻，我意识到我做了什么，vim早已经赢得了我的青睐.</p>
<p>所以，我将vim作为我的首选编辑器[注1]</p>
<p>另一个动机是，我发现我最喜欢的shell(<a href="http://www.zsh.org/">ZSH</a>)有很酷的 vi-mode 包含命令模式(使得，你可以在命令和插入模式之间切换)</p>
<p>Vim有一系列给力的特性，并且学习它们需要花费一些时间.当然，现在有很多在线指南和技巧文章，但是帮助文档同样很优秀！有概览页面，总结页面和一些注释</p>
<p>我开始使用官网的指南和帮助系统学习(输入 :help 可以从命令模式获取帮助)， 我喜欢在测试文件中测试命令，并且对重要的命令写下简短的说明</p>
<p>另一个我使用Vim的原因是，使用Vim比Emacs更加健康(使用默认键映射).健康?很多命令可以简单地通过一次敲击完成 - 模式编辑器的优点，不需要使用由很多修改关键字组成的长命令串.即使你有一个正常的键盘，敲击Ctrl，Alt等键很显然不是那么正常</p>
<p>只需要记住:Vim的命令都非常简单，但是简单命令组合起来将变得十分强大</p>
<h2 id="_1">模式</h2>
<p>Vim有3种模式：</p>
<p>1.命令行模式：所有键盘输入都是命令</p>
<p>2.插入模式:大部分键盘输入作为文本插入(出了少部分特殊键)</p>
<p>3.可视模式：用于帮助选中文本，可以看做是命令行模式的子模式</p>
<p><img alt="模式转换图" src="https://github.com/wklken/gallery/blob/master/vim/vim-modes.png?raw=true" /></p>
<p>从插入模式或可视模式切换到命令模式,按</p>
<p>从命令模式切换到插入模式:</p>
<div class="hlcode"><pre><span class="o">*</span> <span class="n">i</span>  <span class="err">在当前位置之前插入</span>
<span class="o">*</span> <span class="n">a</span>  <span class="err">在当前位置之后插入</span><span class="p">(</span><span class="err">追加</span><span class="p">)</span>
<span class="o">*</span> <span class="n">I</span>  <span class="err">调到当前行第一个非空白字符之前插入</span>
<span class="o">*</span> <span class="n">A</span>  <span class="err">调到当前行最后一个字符之后插入</span>
</pre></div>


<p>从命令模式到可视模式：</p>
<div class="hlcode"><pre><span class="o">*</span> <span class="n">v</span>  <span class="err">切换到可视模式</span><span class="p">(</span><span class="err">字符级别</span><span class="p">)</span>
<span class="o">*</span> <span class="n">V</span>  <span class="err">切换到可视模式</span><span class="p">(</span><span class="err">行级别</span><span class="p">)</span>
<span class="o">*</span> <span class="n">ctrl</span><span class="o">-</span><span class="n">v</span>  <span class="err">切换到块可视模式</span><span class="p">(</span><span class="err">块级别的</span><span class="p">)</span>
</pre></div>


<p>所有操作，比如替换，删除，拷贝或排版，在可视模式下同样适用</p>
<h2 id="_2">移动</h2>
<p>简单的移动命令</p>
<div class="hlcode"><pre><span class="o">*</span> <span class="n">h</span> <span class="err">左移</span>
<span class="o">*</span> <span class="n">l</span> <span class="err">右移</span>
<span class="o">*</span> <span class="n">k</span> <span class="err">上移</span>
<span class="o">*</span> <span class="n">j</span> <span class="err">下移</span>
</pre></div>


<p>很显然，这几个命令只在命令模式下可用，当然，你可以用方向键(在所有模式下适用)</p>
<p>Vim有很多移动命令，我只是学习了一部分，但是如果你需要一些特殊的移动方式，可以看看帮助，我确定你会找到有用的方法</p>
<p><img alt="移动说明图" src="https://github.com/wklken/gallery/blob/master/vim/vim-movement.png?raw=true" /></p>
<p>Vim distinguishes between screen-lines (those shown on the monitor) and real lines (those ended with a new-line). Vim区分逻辑行(频幕上展示的)和物理行(实际以\n结尾的)</p>
<p>以下是一些重要的命令</p>
<div class="hlcode"><pre><span class="mi">0</span> <span class="err">当前行第一列</span>
<span class="o">^</span> <span class="err">当前行第一个非空白字符</span>
<span class="n">w</span> <span class="err">移到下一个单词</span>
<span class="n">W</span> <span class="err">移到下一个单词，忽略标点</span>
<span class="n">e</span> <span class="err">移动到单词尾部</span>
<span class="n">E</span> <span class="err">移动到单词尾部，忽略标点</span>
<span class="n">b</span> <span class="err">移动到单词开头</span>
<span class="n">B</span> <span class="err">移动到单词开头，忽略标点</span>
<span class="n">ge</span> <span class="err">移动到前一个词尾部</span>
<span class="n">gE</span> <span class="err">移动到前一个词尾部，忽略标点</span>
<span class="n">g_</span> <span class="err">移动到最后一个非空白字符</span>
<span class="err">$</span>  <span class="err">移动到最后一列</span>
</pre></div>


<p>如果你记住一部分，你将学会如何快速从A移动到B！另一个重要的事实是，这些命令说明了基本命令的定义方式</p>
<h2 id="_3">编辑</h2>
<p>在Vim中，插入文本是很简单的事情，只需要敲i并且开始输入.但是vim提供了相当丰富的文本编辑命令</p>
<div class="hlcode"><pre><span class="n">d</span> <span class="err">删除当前光标位置到下一个命令哪个提供位置之间的字符</span><span class="p">(</span><span class="err">例如</span><span class="o">:</span> <span class="n">d</span><span class="err">$删除当前行光标位置到最后一列的所有字符</span><span class="p">)</span>
<span class="n">c</span> <span class="err">修改</span>
<span class="n">x</span> <span class="err">删除光标位置字符</span>
<span class="n">X</span> <span class="err">删除光标之前的字符</span><span class="p">(</span><span class="err">相当于回退</span><span class="p">)</span>
<span class="n">y</span> <span class="err">拷贝</span>
<span class="n">p</span> <span class="err">在当前光标之后黏贴拷贝的内容</span>
<span class="n">P</span> <span class="err">在当前光标之前黏贴拷贝的内容</span>
<span class="n">r</span> <span class="err">替换当前字符</span>
<span class="n">s</span> <span class="err">用输入替换当前位置到下一个命令给出位置的字符</span>
<span class="p">.</span> <span class="err">重复上一个命令</span>
</pre></div>


<p>dd, cc 或yy 将操作整行，例如yy拷贝当前行</p>
<p>需要注意的是，很多命令比我在这里描述的额更为强大.例如你可以 输入"ayy 拷贝当前行道一个寄存器a,可以使用 "ap 黏贴a中的内容. Vim自动保存最后几个复制或删除的内容,要查看寄存器的内容，输入:registers, 你可以使用它们去黏贴一些老的文本</p>
<h2 id="_4">可视块</h2>
<p>可视块使得能够在选中文本每一行某个位置插入一个字符</p>
<p>假设你选中了一块代码(Ctrl-v),你可以键入I，在代码块之前插入文本(切换到插入模式).当你离开插入模式时，输入的文本将作用于选中的每一行.使用A在代码块之后进行插入</p>
<p>另一个有用的特性是，你可以用新文本替换整个代码块.选中代码块，输入s，vim进入插入模式，然后输入内容.离开插入模式时，vim将输入的内容插入到剩余行</p>
<p>如果你想追加文本到某些行后边，使用Ctrl-v$选中需要修改的行选中需要修改的行. 这个和上一个命令不同的是，$表示"行尾",ctrl-v选中行的行尾，忽略文本</p>
<p>使用 Ctrl-v:</p>
<div class="hlcode"><pre><span class="n">This</span> <span class="n">is</span> <span class="n">a</span> <span class="n">testNEWLY</span> <span class="n">INSERTED</span>
<span class="n">This</span> <span class="n">is</span> <span class="n">a</span>     <span class="n">NEWLY</span> <span class="n">INSERTED</span>
<span class="n">This</span> <span class="n">is</span>       <span class="n">NEWLY</span> <span class="n">INSERTED</span>
</pre></div>


<p>使用 Ctrl-v$:</p>
<div class="hlcode"><pre><span class="n">This</span> <span class="n">is</span> <span class="n">a</span> <span class="n">testNEWLY</span> <span class="n">INSERTED</span>
<span class="n">This</span> <span class="n">is</span> <span class="n">aNEWLY</span> <span class="n">INSERTED</span>
<span class="n">This</span> <span class="n">isNEWLY</span> <span class="n">INSERTED</span>
</pre></div>


<h2 id="_5">文本对象</h2>
<p>Vim命令操作文本对象(字符，单词，括号分割的字符，句子等等)</p>
<p>对我来说，最重要的一个是 在单词中: iw. 要选中当前的单词，只需要键入 viw (v可视模式，iw选中光标所在词),同样的，删除: diw</p>
<p>inner-word/block和a-word/block的区别在于，前者只选中单词的字符(不包括空白字符) 或者括号中的内容(不包括括号本身).后者包括括号本身或者单词后的空白字符</p>
<div class="hlcode"><pre><span class="n">iw</span> <span class="err">单词</span>
<span class="n">aw</span> <span class="err">单词</span><span class="o">+</span><span class="err">后面空白</span>
<span class="n">iW</span> <span class="err">…</span><span class="n">inner</span> <span class="n">WORD</span>
<span class="n">aW</span> <span class="err">…</span><span class="n">a</span> <span class="n">WORD</span>
<span class="n">is</span> <span class="err">句子</span>
<span class="n">as</span> <span class="err">句子</span><span class="o">+</span><span class="err">后面空白</span>
<span class="n">ip</span> <span class="err">段落</span>
<span class="n">ap</span> <span class="err">段落</span><span class="o">+</span><span class="err">段落后空白</span>
<span class="n">i</span><span class="p">(</span> <span class="n">or</span> <span class="n">i</span><span class="p">)</span> <span class="err">括号中</span>
<span class="n">a</span><span class="p">(</span> <span class="n">or</span> <span class="n">a</span><span class="p">)</span> <span class="err">括号中</span><span class="o">+</span><span class="err">括号</span>
<span class="n">i</span><span class="o">&lt;</span> <span class="n">or</span> <span class="n">i</span><span class="o">&gt;</span>
<span class="n">a</span><span class="o">&lt;</span> <span class="n">or</span> <span class="n">i</span><span class="o">&gt;</span>
<span class="n">i</span><span class="p">{</span> <span class="n">or</span> <span class="n">i</span><span class="p">}</span>
<span class="n">a</span><span class="p">{</span> <span class="n">or</span> <span class="n">a</span><span class="p">}</span>
<span class="n">i</span><span class="s">&quot; 引号中</span>
<span class="n">a</span><span class="s">&quot; 引号中+引号</span>
<span class="n">i</span><span class="err">`</span>
<span class="n">a</span><span class="err">`</span>
</pre></div>


<p>下面是命令命令的展示，[]表示选中的文本:</p>
<div class="hlcode"><pre><span class="n">iw</span>   <span class="n">This</span> <span class="n">is</span> <span class="n">a</span> <span class="p">[</span><span class="n">test</span><span class="p">]</span> <span class="n">sentence</span><span class="p">.</span>
<span class="n">aw</span>   <span class="n">This</span> <span class="n">is</span> <span class="n">a</span> <span class="p">[</span><span class="n">test</span> <span class="p">]</span><span class="n">sentence</span><span class="p">.</span>
<span class="n">iW</span>   <span class="n">This</span> <span class="n">is</span> <span class="n">a</span> <span class="p">[</span><span class="err">…</span><span class="n">test</span><span class="err">…</span><span class="p">]</span> <span class="n">sentence</span><span class="p">.</span>
<span class="n">aW</span>   <span class="n">This</span> <span class="n">is</span> <span class="n">a</span> <span class="p">[</span><span class="err">…</span><span class="n">test</span><span class="err">…</span> <span class="p">]</span><span class="n">sentence</span><span class="p">.</span>
<span class="n">is</span>   <span class="err">…</span><span class="n">sentence</span><span class="p">.</span> <span class="p">[</span><span class="n">This</span> <span class="n">is</span> <span class="n">a</span> <span class="n">sentence</span><span class="p">.]</span> <span class="n">This</span><span class="err">…</span>
<span class="n">as</span>   <span class="err">…</span><span class="n">sentence</span><span class="p">.</span> <span class="p">[</span><span class="n">This</span> <span class="n">is</span> <span class="n">a</span> <span class="n">sentence</span><span class="p">.</span> <span class="p">]</span><span class="n">This</span><span class="err">…</span>
<span class="n">ip</span>   <span class="n">End</span> <span class="n">of</span> <span class="n">previous</span> <span class="n">paragraph</span><span class="p">.</span>

     <span class="p">[</span><span class="n">This</span> <span class="n">is</span> <span class="n">a</span> <span class="n">paragraph</span><span class="p">.</span> <span class="n">It</span> <span class="n">has</span> <span class="n">two</span> <span class="n">sentences</span><span class="p">.]</span>

     <span class="n">The</span> <span class="n">next</span><span class="p">.</span>
<span class="n">ap</span>   <span class="n">End</span> <span class="n">of</span> <span class="n">previous</span> <span class="n">paragraph</span><span class="p">.</span>

     <span class="p">[</span><span class="n">This</span> <span class="n">is</span> <span class="n">a</span> <span class="n">paragraph</span><span class="p">.</span> <span class="n">It</span> <span class="n">has</span> <span class="n">two</span> <span class="n">sentences</span><span class="p">.</span>

     <span class="p">]</span><span class="n">The</span> <span class="n">next</span><span class="p">.</span>
<span class="n">i</span><span class="p">(</span> <span class="n">or</span> <span class="n">i</span><span class="p">)</span>     <span class="mi">1</span> <span class="o">*</span> <span class="p">([</span><span class="mi">2</span> <span class="o">+</span> <span class="mi">3</span><span class="p">])</span>
<span class="n">a</span><span class="p">(</span> <span class="n">or</span> <span class="n">a</span><span class="p">)</span>     <span class="mi">1</span> <span class="o">*</span> <span class="p">[(</span><span class="mi">2</span> <span class="o">+</span> <span class="mi">3</span><span class="p">)]</span>
<span class="n">i</span><span class="o">&lt;</span> <span class="n">or</span> <span class="n">i</span><span class="o">&gt;</span>     <span class="n">The</span> <span class="o">&lt;</span><span class="p">[</span><span class="n">tag</span><span class="p">]</span><span class="o">&gt;</span>
<span class="n">a</span><span class="o">&lt;</span> <span class="n">or</span> <span class="n">i</span><span class="o">&gt;</span>     <span class="n">The</span> <span class="p">[</span><span class="o">&lt;</span><span class="n">tag</span><span class="o">&gt;</span><span class="p">]</span>
<span class="n">i</span><span class="p">{</span> <span class="n">or</span> <span class="n">i</span><span class="p">}</span>     <span class="n">some</span> <span class="p">{[</span> <span class="n">code</span> <span class="n">block</span> <span class="p">]}</span>
<span class="n">a</span><span class="p">{</span> <span class="n">or</span> <span class="n">a</span><span class="p">}</span>     <span class="n">some</span> <span class="p">[{</span> <span class="n">code</span> <span class="n">block</span> <span class="p">}]</span>
<span class="n">i</span><span class="s">&quot;   The &quot;</span><span class="p">[</span><span class="n">best</span><span class="p">]</span><span class="s">&quot;</span>
<span class="n">a</span><span class="s">&quot;   The[ “best”]</span>
<span class="n">i</span><span class="err">`</span>   <span class="n">The</span> <span class="err">`</span><span class="p">[</span><span class="n">best</span><span class="p">]</span><span class="err">`</span>
<span class="n">a</span><span class="err">`</span>   <span class="n">The</span><span class="p">[</span> <span class="err">`</span><span class="n">best</span><span class="err">`</span><span class="p">]</span>
</pre></div>


<p>可以尝试使用，熟悉并记住(对我而言，iw和i() 真正地节省了时间)</p>
<h2 id="undoredo">Undo和Redo</h2>
<p>不要害怕使用一系列命令，你可以在命令模式下撤销，用u - 甚至用ctrl-r撤销刚才的撤销操作</p>
<p>Vim7.0 介绍了撤销分支，但我没有时间去深入了解</p>
<h2 id="_6">外部命令</h2>
<p>Vim很容易加入外部命令的输出,或者通过外部过滤器过滤整行或部分</p>
<p>使用外部命令 :!command 输出将会展现出来</p>
<p>通过外部命令过滤文本，可以使用 :!sort %</p>
<p>将外部命令的输出插入到当前文件 :r!command (例如 :r!which ls)</p>
<p>查看更多关于filter的信息 :h filter</p>
<h2 id="_7">搜索和替换</h2>
<p>在Vim中搜索非常简单，在命令模式下输入 / ，然后填入你要搜索的词，然后vim会搜索这个文件(当前位置向前)</p>
<p>使用? 进行向后搜索</p>
<p>在搜索结果中，使用n或N进行重复搜索(和前一个搜索同一个方向)</p>
<p>如果设置了"incsearch", Vim会立刻跳到匹配文本位置，如果设置了"hlsearch", 将会高亮所有匹配文本. 要去除高亮，:nohl</p>
<p>替换同样不是很难，但是你需要对正则表达式有所了解</p>
<p>使用正则替换某些文本，输入 :%s/old/new/gc 这个命令将会遍历整个文件%, 用单词"new"替换所有"old". g代表替换行中所有匹配文本，c代表替换前询问</p>
<p>如果只需要替换选中区域中的某些文本，选中区域，输入 :s/old/new/g.</p>
<p>这个就像</p>
<div class="hlcode"><pre><span class="o">:</span><span class="err">&#39;</span><span class="o">&lt;</span><span class="p">,</span><span class="err">&#39;</span><span class="o">&gt;</span><span class="n">s</span><span class="o">/</span><span class="n">old</span><span class="o">/</span><span class="n">new</span><span class="o">/</span><span class="n">g</span>
</pre></div>


<p>在标签一节之后，你将会知道 '&lt;'和'&gt;'的意思</p>
<h2 id="_8">补全</h2>
<p>在你输入时，反复输入同一个词是很正常的事情. 使用Ctrl-p，vim会反向搜索最近输入过的拥有相同开头的词, ctrl-x ctrl-l补全整个词</p>
<p>如果你不确定如何拼写某个词，并且你设置了拼写检查(:set spell),你可以使用 Ctrl-x Ctrl-k 到字典中查询已经输入的词.Vim自动补全系统在7.0后得到了很大的改善.</p>
<p>注意，自动补全命令仅在插入模式下有效，在命令模式有其他的作用</p>
<h2 id="_9">标签</h2>
<p>你可以在文档中设置标签，实现在文档中不同位置的快速跳转</p>
<p>vim自动设置的标签</p>
<div class="hlcode"><pre><span class="p">{</span><span class="mi">0</span><span class="o">-</span><span class="mi">9</span><span class="p">}</span> <span class="err">关闭文件的最近</span><span class="mi">10</span><span class="err">个位置</span><span class="p">(</span><span class="mi">0</span> <span class="err">最后一个</span><span class="p">,</span> <span class="mi">1</span> <span class="err">倒数第二个</span><span class="p">)</span>
<span class="o">&lt;</span> <span class="n">and</span> <span class="o">&gt;</span> <span class="err">标记文本左边</span><span class="o">/</span><span class="err">右边的位置</span>
<span class="p">(</span> <span class="n">and</span> <span class="p">)</span> <span class="err">当前句子的开始</span><span class="o">/</span><span class="err">结束</span>
<span class="p">{</span> <span class="n">and</span> <span class="p">}</span> <span class="err">当前段落的开始</span><span class="o">/</span><span class="err">结束</span>
<span class="p">[</span> <span class="n">and</span> <span class="p">]</span> <span class="err">拷贝或修改文本的第一</span><span class="o">/</span><span class="err">最后一个字符的位置</span>
<span class="p">.</span> <span class="err">最后修改点位置</span>
<span class="err">&#39;</span> <span class="n">or</span> <span class="err">`</span> <span class="err">上次跳转点位置</span>
<span class="s">&quot; 退出文件前的最后一个位置</span>
<span class="o">^</span> <span class="err">最后插入</span><span class="o">/</span><span class="err">修改位置</span>
</pre></div>


<p>要设置自定义标签，使用 m{a-zA-Z} (例如 ma ), 如果要跳转到某个标签(自定义或预定义),可以使用 ' 和 `</p>
<div class="hlcode"><pre><span class="err">&#39;</span> <span class="err">将光标移到标记行首个非空字符位置</span>
<span class="err">`</span> <span class="err">移到设置标签时得准确位置</span>
</pre></div>


<p>大写和小写标记之间有些区别</p>
<div class="hlcode"><pre><span class="p">{</span><span class="n">a</span><span class="o">-</span><span class="n">z</span><span class="p">}</span> <span class="err">文件维度</span>
<span class="p">{</span><span class="n">A</span><span class="o">-</span><span class="n">Z</span><span class="p">}</span> <span class="err">会话维度，和文件关联，可以跨文件跳转</span>
</pre></div>


<p>例如，可以使用 L 标记work-log 使用T标记time-table ,然后进行快速跳转</p>
<p>例如，你可以键入 '" 跳转到文件关闭前光标所在位置(Vim可以通过配置实现)</p>
<div class="hlcode"><pre><span class="err">列出标签列表</span> <span class="o">:</span><span class="n">marks</span>

<span class="err">删除</span> <span class="o">:</span><span class="n">delmarks</span> <span class="n">a</span> <span class="n">b</span> <span class="n">c</span>

<span class="err">删除所有</span>  <span class="o">:</span><span class="n">delmarks</span><span class="o">!</span>
</pre></div>


<h2 id="tab-buffer-window">标签页(tab) ，缓冲(buffer) 和 窗口(window)</h2>
<p>Vim 7.0介绍过tabs. 我们都知道并喜欢tabs,所以这里不多提. (注意: vim中的tabs和其他程序中的tabs略有不同.不同点在于，每个tab页可以拥有自己的布局, 例如我可以在第一个tab中切分窗口，在第二个tab中不切分)</p>
<p>命令行中用vim一次性打开多个tab vim -p *.txt</p>
<p>切换tab, 可以使用鼠标(gVim) 或者输入 gt</p>
<p>创建一个新的空tab,输入 :tabnew</p>
<p>或者在一个新tab中打开文件 :tabe xyz</p>
<p>buffer和window有些不好理解，window是打开vim时你看到的，当你打开帮助(:help bufers), 你将会得到两个window.并非真正的窗口，是vim提供的展示视图</p>
<p>你可以打开一个window,切分成水平两个 :sp 或者竖直两个 :vsp. 通过这个方法，vim将同一个buffer放在两个不同的window. 你可以打开文件, :sp filea 或者 :vsp fileb. 在窗口之间跳转，命令模式下使用 Ctrl-w {hjkl}</p>
<p>buffer大多数情况下是一个文件，但是不要求可见. 所以通常一个window中有多个buffer, 要在当前window中展现不同的buffer , 使用 :b NUMBER, 可以使用 :buffers查看对应buffer的编号，通常情况下，vim要求你在切换到另一个buffer之前，保存当前buffer, 所以切换报错时不要太过惊讶(可以 :set hidden 使未保存buffer生效，但需谨慎使用)</p>
<p>下面是我的笔记:</p>
<div class="hlcode"><pre><span class="o">:</span><span class="n">b</span> <span class="n">N</span> <span class="err">切换到</span><span class="n">buffer</span> <span class="n">N</span>
<span class="o">:</span><span class="n">buffers</span> <span class="err">展示</span><span class="n">buffer</span><span class="err">列表</span><span class="p">,</span> <span class="err">字符含义</span>
    <span class="o">%</span> <span class="err">当前</span><span class="n">window</span>
    <span class="err">#</span> <span class="err">替换</span><span class="n">buffer</span> <span class="p">(</span><span class="err">使用</span> <span class="o">:</span><span class="n">e</span><span class="err">#</span> <span class="n">or</span> <span class="o">:</span><span class="n">b</span><span class="err">#切换</span><span class="p">)</span>
    <span class="n">a</span> <span class="err">活动的</span><span class="p">(</span><span class="err">加载并可见</span><span class="p">)</span>
    <span class="n">h</span> <span class="err">隐藏的</span><span class="p">(</span><span class="err">加载但不可见</span><span class="p">)</span>
    <span class="o">+</span> <span class="err">修改的</span>
<span class="o">:</span><span class="n">bd</span> <span class="err">关闭</span><span class="n">buffer</span><span class="err">并从</span><span class="n">buffer</span><span class="err">列表移除</span><span class="p">(</span><span class="err">不关闭</span><span class="n">vim</span><span class="p">,</span><span class="err">即使最后一个</span><span class="n">buffer</span><span class="err">关闭</span><span class="p">)</span>
<span class="o">:</span><span class="n">bun</span> <span class="err">关闭</span><span class="n">buffer</span><span class="err">但留存在</span><span class="n">bufferlist</span>
<span class="o">:</span><span class="n">sp</span> <span class="err">#</span><span class="n">N</span> <span class="err">分屏并编辑</span><span class="n">buffer</span> <span class="n">N</span>
<span class="o">:</span><span class="n">w</span> <span class="err">保存当前</span><span class="n">buffer</span>
<span class="o">:</span><span class="n">e</span> <span class="err">重新加载当前文件</span>
<span class="o">:</span><span class="n">q</span> <span class="err">退出</span>
<span class="o">:</span><span class="n">new</span> <span class="err">新的空</span><span class="n">window</span>
<span class="o">:</span><span class="n">on</span> <span class="err">关闭除当前活动</span><span class="n">window</span><span class="err">之外的所有</span><span class="n">window</span><span class="p">(</span><span class="n">Ctrl</span><span class="o">-</span><span class="n">W</span> <span class="n">o</span><span class="p">)</span>
<span class="n">Ctrl</span><span class="o">-</span><span class="n">W</span> <span class="p">{</span><span class="n">h</span><span class="p">,</span><span class="n">j</span><span class="p">,</span><span class="n">k</span><span class="p">,</span><span class="n">l</span><span class="p">}</span> <span class="err">窗口之间切换</span>
</pre></div>


<p>设置'hidden'后，允许修改未保存的buffer隐藏，buffer会自动保存如果未设置'hidden'，设置了'autowrite'</p>
<h2 id="_10">宏</h2>
<p>Vim允许使用点. 重复某些命令，当存在多个命令时，使用宏</p>
<p>你可以开始 录制宏， 使用 q和{0-9a-zA-Z}， 例如 qq 录制用于buffer"q"的宏，完成录制后，键入q退出</p>
<p>现在你可以使用 @q 在任何时候调用宏</p>
<h2 id="_11">最后</h2>
<p>我希望可以帮助你开始学习vim. 我可以做的最后一件事是，提供我的vim配置文件. 使用 :help ... 去学习vim更强大的功能并在后续写一篇指南</p>
<p>可以将<a href="http://blog.interlinked.org/static/files/vimrc">vimrc</a>文件放入你的home目录(~/.vimrc),但是要先确定这个目录下还没有这个文件</p>
<p>注解1： Vim是一个编辑器，不是IDE 或者操作系统. 不要通过其试图创建一个IDE,如果你喜欢IDE,挑一个来用！当然，vim可以将很多任务自动化,例如编译，跳转到编译错误处，要实现这些，关注下vim的插件</p>
<p>Emacs is a good operating system, but it lacks a good editor. — Old saying.</p>
    </div>
    <div id="footer">
      <span>
        <p>Copyright © 2020 Tsong khapa.
        Powered by <a href="http://simiki.org/" target="_blank">Simiki</a>.</p>
        <p>Site Generated 2020-10-02 22:54:23</p>
      </span>
    </div>

    
    
  </body>
</html>