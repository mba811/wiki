<!DOCTYPE HTML>
<html>
  <head>
    <link rel="Stylesheet" type="text/css" href="/static/css/style.css">
    <link rel="Stylesheet" type="text/css" href="/static/css/tango.css">
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <link rel="alternate" type="application/atom+xml" href="atom.xml" title="Atom feed">
    <title>JavaScript 常用资源 - Wiki · Tsong khapa</title>
    <meta name="keywords" content="simiki, wiki, python, simple"/>
    <meta name="description" content="Tanky Woo's personal wiki, powered by vim and markdown. Focus on Python, C/C++, Linux, Ops-Dev, Gentoo, and so on."/>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  </head>

  <body>
    <div id="container">
      
<div id="header">
  <div class="post-nav"><a href="/">Home</a>&nbsp;&#187;&nbsp;<a href="/#Resources">Resources</a>&nbsp;&#187;&nbsp;JavaScript 常用资源
    <span class="updated">Page Updated&nbsp;
      2015-05-07 07:17
    </span></div>
</div>
<div class="clearfix"></div>

<div class="page_title">JavaScript 常用资源</div>

  <h2 id="_1">常用代码</h2>
<h3 id="_2">字符串截取</h3>
<div class="hlcode"><pre><span class="n">substr</span><span class="p">(</span><span class="n">start</span> <span class="p">[,</span> <span class="n">length</span> <span class="p">])</span>
<span class="err">返回一个从指定位置开始的指定长度的子字符串</span>
<span class="n">substring</span><span class="p">(</span><span class="n">start</span><span class="p">,</span> <span class="n">end</span><span class="p">)</span>
<span class="err">返回位于</span> <span class="n">String</span> <span class="err">对象中指定位置的子字符串。</span>
</pre></div>


<h3 id="_3">页面跳转</h3>
<div class="hlcode"><pre><span class="n">window</span><span class="p">.</span><span class="n">navigate</span><span class="p">(</span><span class="s">&quot;top.jsp&quot;</span><span class="p">);</span>
<span class="n">window</span><span class="p">.</span><span class="n">history</span><span class="p">.</span><span class="n">back</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">);</span>
<span class="n">window</span><span class="p">.</span><span class="n">location</span><span class="p">.</span><span class="n">href</span><span class="o">=</span><span class="s">&quot;login.jsp?backurl=&quot;</span><span class="o">+</span><span class="n">window</span><span class="p">.</span><span class="n">location</span><span class="p">.</span><span class="n">href</span><span class="p">;</span> 
<span class="n">self</span><span class="p">.</span><span class="n">location</span><span class="o">=</span><span class="err">&#39;</span><span class="n">top</span><span class="p">.</span><span class="n">htm</span><span class="err">&#39;</span><span class="p">;</span>
<span class="n">top</span><span class="p">.</span><span class="n">location</span><span class="o">=</span><span class="err">&#39;</span><span class="n">xx</span><span class="p">.</span><span class="n">jsp</span><span class="err">&#39;</span><span class="p">;</span>
</pre></div>


<h3 id="_4">加载完成</h3>
<div class="hlcode"><pre><span class="nb">window</span><span class="p">.</span><span class="nx">onload</span> 
<span class="err">必须等页面内包括图片的所有元素加载完成后才能执行。</span>
<span class="err">不能同时编写多个，只执行一个</span>
<span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">ready</span><span class="p">()</span>
<span class="err">是</span><span class="nx">DOM</span><span class="err">结构绘制完毕后就可以执行</span>
<span class="err">可以编写多个</span>
<span class="err">简写</span><span class="nx">$</span><span class="p">(</span><span class="kd">function</span><span class="p">(){});</span>
<span class="nx">$</span><span class="p">(</span><span class="nb">window</span><span class="p">).</span><span class="nx">load</span><span class="p">()</span><span class="err">等同与</span><span class="nb">window</span><span class="p">.</span><span class="nx">onload</span>
</pre></div>


<h3 id="_5">刷新页面</h3>
<div class="hlcode"><pre><span class="n">history</span><span class="p">.</span><span class="n">go</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span> 
<span class="n">location</span><span class="p">.</span><span class="n">reload</span><span class="p">()</span> 
<span class="n">location</span><span class="o">=</span><span class="n">location</span> 
<span class="n">location</span><span class="p">.</span><span class="n">assign</span><span class="p">(</span><span class="n">location</span><span class="p">)</span> 
<span class="n">document</span><span class="p">.</span><span class="n">execCommand</span><span class="p">(</span><span class="err">&#39;</span><span class="n">Refresh</span><span class="err">&#39;</span><span class="p">)</span> 
<span class="n">window</span><span class="p">.</span><span class="n">navigate</span><span class="p">(</span><span class="n">location</span><span class="p">)</span> 
<span class="n">location</span><span class="p">.</span><span class="n">replace</span><span class="p">(</span><span class="n">location</span><span class="p">)</span> 
<span class="n">document</span><span class="p">.</span><span class="n">URL</span><span class="o">=</span><span class="n">location</span><span class="p">.</span><span class="n">href</span>
</pre></div>


<h3 id="json">json转化和解析</h3>
<div class="hlcode"><pre><span class="n">JSON</span><span class="p">.</span><span class="n">parse</span><span class="p">(</span><span class="s">&quot;{a:&#39;111&#39;,b:&#39;ccc&#39;}&quot;</span><span class="p">);</span>  <span class="c1">//解析</span>
<span class="n">eval</span><span class="p">(</span><span class="s">&quot;(&quot;</span><span class="o">+</span><span class="s">&quot;&quot;</span><span class="o">+</span><span class="s">&quot;)&quot;</span><span class="p">);</span> <span class="c1">//解析</span>
</pre></div>


<h3 id="_6">时间转换</h3>
<div class="hlcode"><pre><span class="n">var</span> <span class="n">day1</span> <span class="o">=</span> <span class="n">parseInt</span><span class="p">(</span><span class="n">new</span> <span class="n">Date</span><span class="p">().</span><span class="n">valueOf</span><span class="p">()</span><span class="o">/</span><span class="mi">1000</span><span class="p">);</span> <span class="c1">//获得当前时间时间戳</span>
<span class="n">day2</span> <span class="o">=</span> <span class="n">new</span> <span class="n">Date</span><span class="p">(</span><span class="n">day1</span><span class="o">*</span><span class="mi">1000</span><span class="p">);</span>
<span class="n">alert</span><span class="p">(</span><span class="n">day2</span><span class="p">.</span><span class="n">getFullYear</span><span class="p">()</span><span class="o">+</span><span class="s">&quot;-&quot;</span><span class="o">+</span><span class="p">(</span><span class="n">day2</span><span class="p">.</span><span class="n">getMonth</span><span class="p">()</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span><span class="o">+</span><span class="s">&quot;-&quot;</span><span class="o">+</span><span class="n">day2</span><span class="p">.</span><span class="n">getDate</span><span class="p">()</span><span class="o">+</span><span class="s">&quot; &quot;</span><span class="o">+</span><span class="n">day2</span><span class="p">.</span><span class="n">getHours</span><span class="p">()</span><span class="o">+</span><span class="s">&quot;:&quot;</span><span class="o">+</span><span class="n">day2</span><span class="p">.</span><span class="n">getMinutes</span><span class="p">()</span><span class="o">+</span><span class="s">&quot;:&quot;</span><span class="o">+</span><span class="n">day2</span><span class="p">.</span><span class="n">getSeconds</span><span class="p">())</span>
<span class="n">d</span> <span class="o">=</span> <span class="n">new</span> <span class="n">Date</span><span class="p">();</span>
<span class="n">s</span> <span class="o">=</span> <span class="n">d</span><span class="p">.</span><span class="n">getFullYear</span><span class="p">()</span> <span class="o">+</span> <span class="s">&quot;-&quot;</span><span class="p">;</span>
<span class="n">s</span> <span class="o">+=</span> <span class="p">(</span><span class="s">&quot;0&quot;</span><span class="o">+</span><span class="p">(</span><span class="n">d</span><span class="p">.</span><span class="n">getMonth</span><span class="p">()</span><span class="o">+</span><span class="mi">1</span><span class="p">)).</span><span class="n">slice</span><span class="p">(</span><span class="o">-</span><span class="mi">2</span><span class="p">)</span> <span class="o">+</span> <span class="s">&quot;-&quot;</span><span class="p">;</span>
<span class="n">s</span> <span class="o">+=</span> <span class="p">(</span><span class="s">&quot;0&quot;</span><span class="o">+</span><span class="n">d</span><span class="p">.</span><span class="n">getDate</span><span class="p">()).</span><span class="n">slice</span><span class="p">(</span><span class="o">-</span><span class="mi">2</span><span class="p">)</span> <span class="o">+</span> <span class="s">&quot; &quot;</span><span class="p">;</span>
<span class="n">s</span> <span class="o">+=</span> <span class="p">(</span><span class="s">&quot;0&quot;</span><span class="o">+</span><span class="n">d</span><span class="p">.</span><span class="n">getHours</span><span class="p">()).</span><span class="n">slice</span><span class="p">(</span><span class="o">-</span><span class="mi">2</span><span class="p">)</span> <span class="o">+</span> <span class="s">&quot;:&quot;</span><span class="p">;</span>
<span class="n">s</span> <span class="o">+=</span> <span class="p">(</span><span class="s">&quot;0&quot;</span><span class="o">+</span><span class="n">d</span><span class="p">.</span><span class="n">getMinutes</span><span class="p">()).</span><span class="n">slice</span><span class="p">(</span><span class="o">-</span><span class="mi">2</span><span class="p">)</span> <span class="o">+</span> <span class="s">&quot;:&quot;</span><span class="p">;</span>
<span class="n">s</span> <span class="o">+=</span> <span class="p">(</span><span class="s">&quot;0&quot;</span><span class="o">+</span><span class="n">d</span><span class="p">.</span><span class="n">getSeconds</span><span class="p">()).</span><span class="n">slice</span><span class="p">(</span><span class="o">-</span><span class="mi">2</span><span class="p">)</span> <span class="o">+</span> <span class="s">&quot;.&quot;</span><span class="p">;</span>
<span class="n">s</span> <span class="o">+=</span> <span class="p">(</span><span class="s">&quot;00&quot;</span><span class="o">+</span><span class="n">d</span><span class="p">.</span><span class="n">getMilliseconds</span><span class="p">()).</span><span class="n">slice</span><span class="p">(</span><span class="o">-</span><span class="mi">3</span><span class="p">);</span>
</pre></div>


<h3 id="uri">URI编码转换</h3>
<div class="hlcode"><pre><span class="n">var</span> <span class="n">a</span><span class="o">=</span><span class="s">&quot;&#39;:&#39;&quot;</span><span class="p">;</span>
<span class="n">en</span> <span class="o">=</span> <span class="n">encodeURI</span><span class="p">(</span><span class="n">a</span><span class="p">);</span>    <span class="c1">//编码</span>
<span class="n">a</span> <span class="o">=</span> <span class="n">decodeURI</span><span class="p">(</span><span class="n">en</span><span class="p">);</span>    <span class="c1">//解码</span>
</pre></div>


<h3 id="html">HTML编码转换</h3>
<div class="hlcode"><pre><span class="kd">function</span> <span class="nx">htmlEncode</span><span class="p">(</span><span class="nx">value</span><span class="p">){</span>
  <span class="k">return</span> <span class="nx">$</span><span class="p">(</span><span class="s1">&#39;&lt;div/&gt;&#39;</span><span class="p">).</span><span class="nx">text</span><span class="p">(</span><span class="nx">value</span><span class="p">).</span><span class="nx">html</span><span class="p">();</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">htmlDecode</span><span class="p">(</span><span class="nx">value</span><span class="p">){</span>
  <span class="k">return</span> <span class="nx">$</span><span class="p">(</span><span class="s1">&#39;&lt;div/&gt;&#39;</span><span class="p">).</span><span class="nx">html</span><span class="p">(</span><span class="nx">value</span><span class="p">).</span><span class="nx">text</span><span class="p">();</span>
<span class="p">}</span>
</pre></div>
    </div>
    <div id="footer">
      <span>
        <p>Copyright © 2020 Tsong khapa.
        Powered by <a href="http://simiki.org/" target="_blank">Simiki</a>.</p>
        <p>Site Generated 2020-10-02 22:54:23</p>
      </span>
    </div>

    
    
  </body>
</html>